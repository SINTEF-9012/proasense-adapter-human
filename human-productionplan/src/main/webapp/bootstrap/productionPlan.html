<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Human Sensor</title>

  <!-- Bootstrap -->
  <link href="css/bootstrap.min.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
</head><!--from  ww w .  ja  v a 2  s . c o m-->
<body>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="js/bootstrap.min.js"></script>

<form id="Production_plan_form">
  <h3 style="margin-left: 30px">Production plan form</h3>
  <div class="well">

    <table class="table table-responsive">


      <thead>
      <tr class="info">
        <th></th>
        <th>I izmena</th>
        <th>II izmena</th>
        <th>III izmena</th>
        <th>I izmena</th>
      </tr>
      </thead>

      <tbody>

      <tr>
        <td id="1-0" style="background-color: red">KM 1000/1
          <br>
          61282649/001</td>

        <td id="1-1">
          <div class="dropdown">
            <select class="readable_value">
              <option value="X82">X82</option>
              <option value="Delta 3">Delta 3</option>
              <option value="HFE">HFE</option>
              <option value="Nova Insignia">Nova Insignia</option>
              <option value="Corsa 1">Corsa 1</option>
              <option value="Delta 1">Delta 1</option>
              <option value="Default_value" selected>Select type</option>
            </select>
            Time: <input type="time" class="readable_value" style="height: 20px; width: 80px;">
          </div>

          <div class="dropdown" id="test">
            <select id="select1" class="readable_value" onchange="selectedField(this);">
              <option value="X82">X82</option>
              <option value="Delta 3">Delta 3</option>
              <option value="HFE">HFE</option>
              <option value="Nova Insignia">Nova Insignia</option>
              <option value="Corsa 1">Corsa 1</option>
              <option value="Delta 1">Delta 1</option>
              <option value="Default_value" selected>Select type</option>
            </select>
            Time: <input id="field-two" type="time" class="readable_value" style="height: 20px; width: 80px; display: initial">
          </div>
        </td>

        <td id="1-2"></td>
        <td id="1-3"></td>
        <td id="1-4"></td>

      </tr>

      <tr>
        <td id="2-0" style="background-color: orange">KM 1000/2
          <br>
          61282634/001</td>

        <td id="2-1"></td>
        <td id="2-2"></td>
        <td id="2-3"></td>
        <td id="2-4"></td>
      </tr>

      <tr>
        <td id="3-0" style="background-color: lightgreen">KM 1000/3
          <br>
          61282630/001</td>

        <td id="3-1"></td>
        <td id="3-2"></td>
        <td id="3-3"></td>
        <td id="3-4"></td>
      </tr>

      <tr>
        <td id="4-0" style="background-color: lightskyblue">ENGEL 1700/4
          <br>
          61542722/001</td>

        <td id="4-1"></td>
        <td id="4-2"></td>
        <td id="4-3"></td>
        <td id="4-4"></td>
      </tr>

      <tr>
        <td id="5-0" style="background-color: lightgray">ENGEL 1700/5
          <br>
          61542721/001</td>

        <td id="5-1"></td>
        <td id="5-2"></td>
        <td id="5-3"></td>
        <td id="5-4"></td>
      </tr>
      </tbody>
    </table>

    <textarea id="textbox" rows="4" cols="50" placeholder="Write your comments here.">
    </textarea>

    <br>
    <input type="button" value="submit" id="submit"/>
  </div>
</form>
</body>
</html>

<script>


  var form = $("#1-1").html();

  for(i = 1; i <6; i++){
    for(k = 1; k < 5; k++) {
      $('#'+i+'-' + k).html(form);
    }
  }

  function selectedField(select_field){

  }

  $(document).ready(function(){

    function sendRequest(id, values){
      var request = new XMLHttpRequest();

      request.open('POST', 'http://localhost:8080/adapter/productionPlan', false);
      request.setRequestHeader("Content-Type", "application/json");
      request.send(id, values);
    }

    $('#submit').click(function () {

      var answers = [];
      var names = ["KM 1000/1 61282649/001", "KM 1000/2 61282634/001", "KM 1000/3 61282630/001", "ENGEL 1700/4 61542722/001", "ENGEL 1700/5 61542721/001"];

      $.each($('.readable_value'), function() {

        answers.push($(this).val());
      });

      var n = 0;
      for(i = 0; i < 5; i++){
        var csv = "";
        for(k = 0; k < 16; k++) {
          csv+= answers[n++]+",";
        }

        sendRequest(names[i]+","+csv);
      }

        document.getElementById("Production_plan_form").reset();
    })

  })

</script>
