<!DOCTYPE html>
  <html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Inspection report</title>

  <!-- Bootstrap -->
  <link href="css/bootstrap.min.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  <div class="container">
    <h3>Inspection report form</h3>
  </div>
  <style>
    table, th, td {
      border: 1px solid black;
    }
  </style>
</head>
<body>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="js/bootstrap.min.js"></script>

<form id="Human_form">
  <div class="container">
    <div class="well" id="field-root">
      Rig name: <input type="text" required class="object_information" style="margin-left: 3px; width:100px">
      <br><br>
      <strong>Date:</strong> <input type="date" required class="object_information" style="margin-left: 32px; width:130px">
      <strong>Time:</strong> <input type="time" required class="object_information" style="margin-left: 10px; width:75px">
      <br><br>
      Inspection responsible person: <input type="text" required class="object_information" style="margin-left: 30px; width:100px">
      <br>
      <br>
      Product code: <input type="text" required class="object_information" style="margin-left: 10px; width:100px">
      <br>
      <br>

      <strong>Equipment data:</strong>
      <br>
      Equipment type:
      <select class="object_information" name="Equipment_data" style="margin-left: 10px">
        <option value="default">Choose type</option>
        <option value="Top drive type">Top drive type</option>
        <option value="RamRig">RamRig</option>
      </select>
      <br>
      <br>

      <strong>Inspection type:</strong>
      <select class="object_information" id="dropList" name="Inspection_Type">
        <option name="defaultname" id="default" value="default">Choose type</option>
        <option id="Visual_inspection" value="Visual_inspection">Visual inspection</option>
        <option id="Rating_swivel" value="Rating_swivel">Vibration monitoring</option>
        <option id="Oil_sampling" value="Oil_sampling">Oil sampling</option>
      </select>
      <br>
      <br>

      <div id="Find_Visual_Inspection">
        <table style="width:75%">
      <tr>
        <th><strong>Finding visual inspection:</strong></th>
        <th> <strong>Acceptance criteria:</strong></th>
      </tr>

      <tr>
        <td>
          Resulting criticality rating swivel:
          <select id="Find_Visual_Inspection-1-1" style="margin-left: 15px">
            <option value="default">Choose value</option>
            <option value="Low">Low</option>
          <option value="Medium">Medium</option>
          <option value="High">High</option>
          </select>

        <td>
        Visual inspection:<input id="Find_Visual_Inspection-1-2" type="text" step="any"class="readable_value" readonly style="width:75px">
      </td>
        </td>
        </tr>
          <tr>
            <td>

              Resulting criticality rating gearbox:
              <select id="Find_Visual_Inspection-1-3">
                <option value="default">Choose value</option>
                <option value="Low">Low</option>
              <option value="Medium">Medium</option>
              <option value="High">High</option>
            </select>

            <td>
            Visual inspection:<input id="Find_Visual_Inspection-1-4" type="text" step="any"class="readable_value" readonly style="width:75px">
          </td>
            </td>
          </tr>
        </table>

      </div>

      <div id="Finding_Vibrations">
        <table style="width:75%">
          <tr>
            <th><strong>Finding vibration:</strong></th>
            <th> <strong>Acceptance criteria:</strong></th>
          </tr>
      <tr>

        <td>
      Velocity swivel: <input id="Finding_Vibrations-1-1" type="number" step="any" required  style="margin-left: 43px; width:50px">mm/s
           < 0,1 mm/s <td>

          Finding vibration:<input id="Finding_Vibrations-1-2" type="text" step="any"class="readable_value" readonly style="margin-left: 10px; width:70px">
        </td>
      </tr>

          <tr>
        <td>
          Acceleration swivel:<input id="Finding_Vibrations-1-3" type="number" step="any" required  style="margin-left: 18px; width:50px">mm/s<sup>2</sup>
          < 0,05 mm/s<sup>2</sup>
        </td>
            <td>
            Finding vibration:<input id="Finding_Vibrations-1-4" type="text" step="any"class="readable_value" readonly style="margin-left: 10px; width:70px">
            </td>
          </tr>

        <tr>
        <td>
          Velocity gearbox: <input id="Finding_Vibrations-1-5" type="number" step="any" required  style="margin-left: 29px; width:50px">mm/s  < 0,2 mm/s
        </td>
          <td>
            Finding vibration:<input id="Finding_Vibrations-1-6" type="text" step="any"class="readable_value" readonly style="margin-left: 10px; width:70px">
          </td>
        </tr>
          <tr>
            <td>
            Acceleration gearbox: <input id="Finding_Vibrations-1-7" type="number" step="any" required style="margin-left: 0px; width:50px">mm/s<sup>2</sup>
              < 0,1 mm/s<sup>2</sup>
            </td>
            <td>
            Finding vibration:<input id="Finding_Vibrations-1-8" type="text" step="any"class="readable_value" readonly style="margin-left: 10px; width:70px">
            </td>
          </tr>
        </tr>
        </table>
      </div>

      <div id="Finding_oil_sampling">
        <table style="width: 100%">
          <tr>
      <th><strong>Finding oil sampling:</strong></th>
      <th><strong>Acceptance criteria:</strong></th>
          </tr>
      <tr>
      <td>
        Fe content swivel: <input id=Finding_oil_sampling-1-1 type="number" step="any" required style="margin-left: 19px; width:50px;">
          ppm < 5 ppm
      </td>
        <td>
          Finding oil sampling:<input id=Finding_oil_sampling-1-2 type="text" step="any" class="readable_value" readonly style="margin-left: 10px; width:100px">
          </td>
      </tr>

      <tr>
      <td>Viscosity swivel: <input id=Finding_oil_sampling-1-3 type="number" step="any" required style="margin-left: 32px; width:50px">
        cSt 200 < Viscosity swivel < 240 cSt</td>
        <td>
          Finding oil sampling:<input id=Finding_oil_sampling-1-4 type="text" step="any"class="readable_value" readonly style="margin-left: 10px; width:100px">
        </td>
      </tr>
          <tr>
          <td>Fe content gearbox: <input id="Finding_oil_sampling-1-5" type="number" step="any" required style="margin-left: 5px; width:50px">
            ppm < 10 ppm</td>
            <td>
              Finding oil sampling:<input id=Finding_oil_sampling-1-6 type="text" step="any"class="readable_value" readonly style="margin-left: 10px; width:100px">
            </td>
          </tr>

          <tr>
        <td>Viscosity gearbox: <input id=Finding_oil_sampling-1-7 type="number" step="any" required style="margin-left: 18px; width:50px">
            cSt 60 < Viscosity gearbox < 75 cSt</td>
            <td>
              Finding oil sampling:<input id=Finding_oil_sampling-1-8 type="text" step="any"class="readable_value" readonly style="margin-left: 10px; width:100px">
            </td>
          </tr>
        </table>
      </div>
      <br>
    <button id="submit" type="submit">Submit</button>
      </div>
  </div>

  </div>
</form>

</body>
</html>

<script>
  $('#Find_Visual_Inspection').hide();
  $('#Finding_Vibrations').hide();
  $('#Finding_oil_sampling').hide();
  $('.readable_value').css({"background-color": "lightgrey"});
  $('.readable_value').val("NA");
  // testChange
  $(document).ready(function() {

    $('#Find_Visual_Inspection-1-1').on('input', function() {
      var conceptName = $('#Find_Visual_Inspection-1-1 :selected').text();

     if(conceptName === "Low"){
       $('#Find_Visual_Inspection-1-2').css({'backgroundColor': "lightgreen"});
       $('#Find_Visual_Inspection-1-2').val("True");
     }else{
       $('#Find_Visual_Inspection-1-2').css({'backgroundColor': "red"});
       $('#Find_Visual_Inspection-1-2').val("False");
     }
    });

    $('#Find_Visual_Inspection-1-3').on('input', function() {
      var conceptName = $('#Find_Visual_Inspection-1-3 :selected').text();

      if(conceptName === "Low"){
        $('#Find_Visual_Inspection-1-4').css({'backgroundColor': "lightgreen"});
        $('#Find_Visual_Inspection-1-4').val("True");
      }else{
        $('#Find_Visual_Inspection-1-4').css({'backgroundColor': "red"});
        $('#Find_Visual_Inspection-1-4').val("False");
      }
    });

///////////
    $("#Finding_Vibrations-1-1").on('input', function() {
      var conceptName = $("#Finding_Vibrations-1-1").val();

      if(conceptName < 0.1){
        $('#Finding_Vibrations-1-2').css({'backgroundColor': "lightgreen"});
        $('#Finding_Vibrations-1-2').val("True");
      }else{
        $('#Finding_Vibrations-1-2').css({'backgroundColor': "red"});
        $('#Finding_Vibrations-1-2').val("False");
      }
    });

    $('#Finding_Vibrations-1-3').on('input', function() {
      var conceptName = $('#Finding_Vibrations-1-3').val();
        alert(conceptName < 0.05);
      if(conceptName < 0.05){
        $('#Finding_Vibrations-1-4').css({'backgroundColor': "lightgreen"});
        $('#Finding_Vibrations-1-4').val("True");
      }else{
        $('#Finding_Vibrations-1-4').css({'backgroundColor': "red"});
        $('#Finding_Vibrations-1-4').val("False");
      }
    });

    $('#Finding_Vibrations-1-5').on('input', function() {
      var conceptName = $('#Finding_Vibrations-1-5').val();

      if(conceptName < 0.2){
        $('#Finding_Vibrations-1-6').css({'backgroundColor': "lightgreen"});
        $('#Finding_Vibrations-1-6').val("True");
      }else{
        $('#Finding_Vibrations-1-6').css({'backgroundColor': "red"});
        $('#Finding_Vibrations-1-6').val("False");
      }
    });

    $('#Finding_Vibrations-1-7').on('input', function() {
      var conceptName = $('#Finding_Vibrations-1-7').val();

      if(conceptName < 0.1){
        $('#Finding_Vibrations-1-8').css({'backgroundColor': "lightgreen"});
        $('#Finding_Vibrations-1-8').val("True");
      }else{
        $('#Finding_Vibrations-1-8').css({'backgroundColor': "red"});
        $('#Finding_Vibrations-1-8').val("False");
      }
    });

/////////////////////////////
    $('#Finding_oil_sampling-1-1').on('input', function() {
      var conceptName = $('#Finding_oil_sampling-1-1').val();

      if(conceptName < 5){
        $('#Finding_oil_sampling-1-2').css({'backgroundColor': "lightgreen"});
        $('#Finding_oil_sampling-1-2').val("True");
      }else{
        $('#Finding_oil_sampling-1-2').css({'backgroundColor': "red"});
        $('#Finding_oil_sampling-1-2').val("False");
      }
    });

    $('#Finding_oil_sampling-1-3').on('input', function() {
      var conceptName = $('#Finding_oil_sampling-1-3').val();

      if(conceptName > 200 && conceptName < 240){
        $('#Finding_oil_sampling-1-4').css({'backgroundColor': "lightgreen"});
        $('#Finding_oil_sampling-1-4').val("True");
      }else{
        $('#Finding_oil_sampling-1-4').css({'backgroundColor': "red"});
        $('#Finding_oil_sampling-1-4').val("False");
      }
    });

    $('#Finding_oil_sampling-1-5').on('input', function() {
      var conceptName = $('#Finding_oil_sampling-1-5').val();

      if(conceptName < 10){
        $('#Finding_oil_sampling-1-6').css({'backgroundColor': "lightgreen"});
        $('#Finding_oil_sampling-1-6').val("True");
      }else{
        $('#Finding_oil_sampling-1-6').css({'backgroundColor': "red"});
        $('#Finding_oil_sampling-1-6').val("False");
      }
    });

    $('#Finding_oil_sampling-1-7').on('input', function() {
      var conceptName = $('#Finding_oil_sampling-1-7').val();

      if(conceptName < 75 && conceptName > 60){
        $('#Finding_oil_sampling-1-8').css({'backgroundColor': "lightgreen"});
        $('#Finding_oil_sampling-1-8').val("True");
      }else{
        $('#Finding_oil_sampling-1-8').css({'backgroundColor': "red"});
        $('#Finding_oil_sampling-1-8').val("False");
      }
    });

    $('select[name="Inspection_Type"]').change(function(){
      $('#Find_Visual_Inspection').hide();
      $('#Finding_Vibrations').hide();
      $('#Finding_oil_sampling').hide();

        var input = $(this).val();
        if(input === "Visual_inspection"){
          $('#Find_Visual_Inspection').show();
        }else if(input === "Rating_swivel"){
          $('#Finding_Vibrations').show();
        }else if(input === "Oil_sampling"){
          $('#Finding_oil_sampling').show();
        }
    });

    function sendRequest(field_values){
      var request = new XMLHttpRequest();
      request.open('POST', 'http://localhost:8080/adapter/InspectionReportForm', false);
      request.setRequestHeader("Content-Type", "application/json");
      request.send(field_values);
    }

    $('#submit').click(function () {

      var answers = [];
      $.each($('.readable_value'), function() {
        answers.push($(this).val());
      });

      sendRequest(answers.toString());

      $('#Human_form').reset();

    });

  });

</script>

